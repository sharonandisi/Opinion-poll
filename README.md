# Gatundu South Opinion Poll (Showcase)

This repository documents the workflow used to clean, analyze, and visualize a constituency-level political opinion poll. The goal is to demonstrate the analytical methodology—without publishing the raw respondent data or any client-sensitive deliverables.

## Repository Contents

| Path | Description |
| --- | --- | --- |
| `gatundu_poll_analysis.ipynb` | Main notebook covering cleaning, EDA, and figure export. |
| `figures/` | Exported charts referenced in the public report. |
| `gatundu_poll_report.md` | Written summary that mirrors the client brief (sanitized). |
| `synthetic_responses.csv` | Safe demo dataset generated by `generate_synthetic_responses.py`. |



## Getting Started

1. **Environment**  
   - Python 3.10+  
   - Recommended libraries: `pandas`, `numpy`, `matplotlib`, `seaborn`, `pathlib` (standard library).  
   - Optional: create a virtual environment (`python -m venv .venv && source .venv/bin/activate`).

2. **Install dependencies**  
   ```bash
   pip install -r requirements.txt  # if you export one
   ```  
   or manually install the libraries above.

3. **Data placeholders**  
   - By default the notebook expects `responses.csv`. Replace this with a synthetic or heavily anonymized dataset before committing.  
   - Document how real data is stored securely (e.g., encrypted drive, restricted folder).

## Reproducing the Analysis

1. Use `generate_synthetic_responses.py` to create `synthetic_responses.csv`, then copy/rename it to `responses.csv` (or supply your own anonymized file).  
2. Open `gatundu_poll_analysis.ipynb` and run all cells (Kernel → Restart & Run All).  
3. Figures will export to `figures/` and the narrative summary can be refreshed in `gatundu_poll_report.md`.  
4. If you need to share sample outputs without rerunning Jupyter, export the notebook to HTML (`jupyter nbconvert --to html`) and upload the static file instead.

## Automation

- **Local helper**: run `./scripts/export_notebook.sh` to (a) regenerate the synthetic dataset if missing, (b) copy it to `responses.csv`, (c) execute the notebook with `nbconvert`, and (d) drop executed + HTML outputs into `build/`.  
- **CI workflow**: `.github/workflows/poll-notebook.yml` repeats that process on every push/PR to `main`, then uploads the executed notebook, HTML report, and figures as GitHub Actions artifacts so reviewers can inspect outputs without rerunning the notebook locally.

## Data Privacy & Governance

- **No raw PII in Git**: respondent-level data, contact info, and qualitative free text stay out of version control. Store them offline or in a secure data room.  
- **Aggregation-first sharing**: only publish summary tables, percentages, and charts. If sharing tabular data, aggregate to ward/segment level and remove rare attribute combinations that could re-identify individuals.  
- **Notebook hygiene**: scrub preview cells (e.g., `head()`) that might show original responses before committing. Replace with mocked samples if needed.  
- **Secrets & configs**: keep API keys or private paths in a `.env` that remains ignored. Provide `.env.example` if collaborators need variable names.  
- **Client deliverables**: notes, briefs, and decks often contain sensitive commentary—track them locally but exclude from Git (already handled in `.gitignore`).



